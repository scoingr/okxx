<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>I'M JOKER</title>

<style>
html,body{
  margin:0;height:100%;background:#000;color:#00ffcc;
  font-family:Consolas,monospace;overflow:hidden;cursor:none
}
#app,#red{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center
}
#red{
  display:none;
  background:#7a0000;
  color:#fff;
  z-index:999;
  animation:pulse 1s infinite;
}
@keyframes pulse{50%{opacity:.7}}

.panel{
  width:94%;max-width:860px;
  border:1px solid #00ffcc55;
  padding:16px;
  box-shadow:0 0 80px #00ffcc22 inset;
  background:#000
}
h1{margin:0 0 6px 0;letter-spacing:.3em}
.small{font-size:12px;opacity:.6}
.row{
  display:grid;grid-template-columns:1fr;gap:14px
}
@media(min-width:720px){
  .row{grid-template-columns:1.2fr .8fr}
}
#radar{
  width:100%;
  height:260px;
  background:#010;
  border:1px solid #00ffcc44;
}
#log{
  height:120px;overflow:auto;
  background:#010;border:1px solid #00ffcc33;
  padding:6px;font-size:12px
}
.bar{margin-top:8px;height:6px;background:#002}
.bar>div{height:100%;width:0;background:#00ffcc}
.blink{animation:blink 1s infinite}
@keyframes blink{50%{opacity:.4}}
</style>
</head>

<body>

<div id="app">
  <div class="panel">
    <h1>I'M JOKER</h1>
    <div class="small blink">Retrieving user data…</div>

    <div class="row">
      <div>
        <div class="small">IP: <b id="ip">scanning…</b></div>
        <div class="small">Device: <b id="dev"></b></div>
        <div class="bar"><div id="prog"></div></div>
        <div id="log"></div>
      </div>
      <canvas id="radar"></canvas>
    </div>

    <div class="small">SYSTEM LOCKED</div>
  </div>
</div>

<div id="red">
  <div style="text-align:center">
    <h1>⚠ CRITICAL DANGER ⚠</h1>
    <p class="blink">SYSTEM LOCKER</p>
    <p>I'M JOKER — Retrieving user data</p>
  </div>
</div>

<script>
/* ========= helpers ========= */
const G=id=>document.getElementById(id);
const log=t=>{G("log").innerHTML+=t+"<br>";G("log").scrollTop=9999};

/* ========= device ========= */
const ua=navigator.userAgent;
G("dev").textContent=/Mobi/.test(ua)?"Mobile":"Desktop";

/* ========= IP (hiển thị) ========= */
fetch("https://ipapi.co/ip/")
.then(r=>r.text())
.then(ip=>G("ip").textContent=ip)
.catch(()=>G("ip").textContent="unknown");

/* ========= fake scan 5s ========= */
let p=0;
const bar=G("prog");
const scanTimer=setInterval(()=>{
  p+=20;
  bar.style.width=p+"%";
  log("Scanning sector "+(p/20));
  if(p>=100) clearInterval(scanTimer);
},1000);

/* ========= radar (CHẮC CHẮN CHẠY) ========= */
const canvas=G("radar");
const ctx=canvas.getContext("2d");

function resizeRadar(){
  const dpr=window.devicePixelRatio||1;
  const r=canvas.getBoundingClientRect();
  canvas.width=r.width*dpr;
  canvas.height=r.height*dpr;
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener("resize",resizeRadar);
resizeRadar();

let angle=0;
const blips=Array.from({length:10},()=>({r:Math.random(),a:Math.random()*6.28}));

function radarLoop(){
  const w=canvas.clientWidth;
  const h=canvas.clientHeight;
  const cx=w/2, cy=h/2;
  const R=Math.min(cx,cy)-6;

  ctx.clearRect(0,0,w,h);

  ctx.strokeStyle="#00ffcc33";
  for(let i=1;i<=4;i++){
    ctx.beginPath();
    ctx.arc(cx,cy,R*i/4,0,Math.PI*2);
    ctx.stroke();
  }

  ctx.strokeStyle="#00ffcc";
  ctx.beginPath();
  ctx.moveTo(cx,cy);
  ctx.lineTo(cx+R*Math.cos(angle),cy+R*Math.sin(angle));
  ctx.stroke();

  blips.forEach(b=>{
    const x=cx+R*b.r*Math.cos(b.a);
    const y=cy+R*b.r*Math.sin(b.a);
    ctx.fillStyle="rgba(0,255,204,.8)";
    ctx.fillRect(x,y,2,2);
  });

  angle+=0.04;
  requestAnimationFrame(radarLoop);
}
radarLoop();

/* ========= RED MODE sau 8s ========= */
setTimeout(()=>{
  G("red").style.display="flex";
},8000);

/* ========= khóa input ========= */
["click","contextmenu","keydown","touchstart"].forEach(e=>{
  document.addEventListener(e,ev=>{
    ev.preventDefault();ev.stopPropagation();
  },{passive:false,capture:true});
});
</script>
</body>
</html>
